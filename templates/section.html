{% extends "base.html" %}

{% block title %}
  {% if section.title %}
    {{ section.title }} | {{ config.title }}
  {% else %}
    {{ config.title }}
  {% endif %}
{% endblock %}

{%- block main -%}
  <main>
    {%- if taxonomy.term %}
      <h3 class="filter">
        {{ trans(key="filtering_for", lang=lang) }} "{{ section.title }}"
      </h3>
      <small>
        <a href="{{ get_url(path='@/blog/_index.md', lang=lang) }}">
          {{ trans(key="remove_filter", lang=lang) }}
        </a>
      </small>
    {%- endif %}

    <ul class="blog-posts">
      {%- for page in section.pages | sort(attribute="date") | reverse %}
        <li>
          <span>
            <i>
              <time datetime="{{ page.date | date(format='%+') }}" pubdate style="font-style: normal;">
                {{ page.date | date(format=config.extra.date_format) }}
              </time>
            </i>
          </span>
          <a href="{{ page.permalink }}">{{ page.title }}</a>
        </li>
      {%- else %}
        <li>{{ trans(key="no_posts", lang=lang) }}</li>
      {%- endfor %}
    </ul>

    {% if not section.extra.hide_tags %}
	<div class="tags">
		{%- set taxonomy_group = section.extra.taxonomy_group | default(value="tags") %}
		{%- set tags = get_taxonomy(kind=taxonomy_group, lang=lang) %}
		{%- for post in tags.items %}
		<a href="{{ post.permalink }}">#{{ post.name }}</a>&nbsp;
	{%- endfor %}
	</div>
	{% endif %}
  </main>
{%- endblock -%}
